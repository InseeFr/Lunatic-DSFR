/*! DSFR v1.12.0 | SPDX-License-Identifier: MIT | License-Filename: LICENSE.md | restricted use (see terms and conditions) */
const e=window.dsfr,t={SCROLLABLE:e.internals.ns.emission("table","scrollable"),CHANGE:e.internals.ns.emission("table","change"),CAPTION_HEIGHT:e.internals.ns.emission("table","captionheight"),CAPTION_WIDTH:e.internals.ns.emission("table","captionwidth")};class s extends e.core.Instance{static get instanceClassName(){return"Table"}init(){this.rowsHeaderWidth=[],this.addAscent(t.CAPTION_HEIGHT,this.setCaptionHeight.bind(this))}setCaptionHeight(e){this.setProperty("--table-offset",`calc(${e}px + 1rem)`)}}const i={TABLE:e.internals.ns.selector("table"),SHADOW:e.internals.ns.selector("table__shadow"),SHADOW_LEFT:e.internals.ns.selector("table__shadow--left"),SHADOW_RIGHT:e.internals.ns.selector("table__shadow--right"),ELEMENT:[`${e.internals.ns.selector("table")}:not(${e.internals.ns.selector("table--no-scroll")}) table`],CAPTION:`${e.internals.ns.selector("table")} table caption`,ROW:`${e.internals.ns.selector("table")} tbody tr`,COL:`${e.internals.ns.selector("table")} thead th`};class n extends e.core.Instance{static get instanceClassName(){return"TableElement"}init(){this.listen("scroll",this.scroll.bind(this)),this.content=this.querySelector("tbody"),this.tableOffsetHeight=0,this.isResizing=!0}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,e?(this.addClass(i.SHADOW),this.scroll()):(this.removeClass(i.SHADOW),this.removeClass(i.SHADOW_LEFT),this.removeClass(i.SHADOW_RIGHT)))}scroll(){const e=this.node.scrollLeft<=0,t=this.content.offsetWidth-this.node.offsetWidth-0,s=Math.abs(this.node.scrollLeft)>=t,n="rtl"===document.documentElement.getAttribute("dir"),l=n?i.SHADOW_RIGHT:i.SHADOW_LEFT,a=n?i.SHADOW_LEFT:i.SHADOW_RIGHT;e?this.removeClass(l):this.addClass(l),s?this.removeClass(a):this.addClass(a)}resize(){this.isScrolling=this.content.offsetWidth>this.node.offsetWidth}dispose(){this.isScrolling=!1}}class l extends e.core.Instance{static get instanceClassName(){return"TableCaption"}init(){this.height=0,this.isResizing=!0}resize(){const e=this.getRect().height;this.height!==e&&(this.height=e,this.ascend(t.CAPTION_HEIGHT,e))}}const a={CHANGE:e.internals.ns.emission("checkbox","change"),RETRIEVE:e.internals.ns.emission("checkbox","retrieve")};class r extends e.core.Instance{static get instanceClassName(){return"TableRow"}init(){e.checkbox&&(this.addAscent(a.CHANGE,this._handleCheckboxChange.bind(this)),this.descend(a.RETRIEVE))}_handleCheckboxChange(e){"row-select"===e.name&&(this.isSelected=!0===e.checked)}render(){const e=this.getRect().height+2;this._height!==e&&(this._height=e,this.setProperty("--row-height",`${this._height}px`))}get isSelected(){return this._isSelected}set isSelected(e){this._isSelected!==e&&(this.isRendering=e,this._isSelected=e,this.setAttribute("aria-selected",e))}}e.table={Table:s,TableElement:n,TableCaption:l,TableSelector:i,TableRow:r},e.internals.register(e.table.TableSelector.TABLE,e.table.Table),e.internals.register(e.table.TableSelector.ELEMENT,e.table.TableElement),e.internals.register(e.table.TableSelector.CAPTION,e.table.TableCaption),e.internals.register(e.table.TableSelector.ROW,e.table.TableRow);
//# sourceMappingURL=table.module.min.js.map
