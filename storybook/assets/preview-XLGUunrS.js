function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as f}from"./jsx-runtime-CVWdv3H2.js";import{e as u,f as C}from"./chunk-HLWAVYOI-D4AdR3Ip.js";import{_ as v}from"./iframe-N269gKMI.js";import{r as w,a as p,i as S,s as x,b as L,c as O,u as m}from"./i18n-CB0Zo_ka.js";import{u as g}from"./index-BNqVza7-.js";import{r as c}from"./index-CBqU2yxZ.js";import"./_commonjsHelpers-BosuxZz1.js";import"./react-18-D8cruF67.js";import"./index-BtM5VmRH.js";import"./inheritsLoose-Cay3MKMD.js";import"./index-BlN7QbS8.js";import"./index-CWLWFqC4.js";import"./index-DrFu-skq.js";import"../sb-preview/runtime.js";import"./isPlainObject-CqQ1Hhx9.js";const h="logo.png",F="@inseefr/lunatic-dsfr",k="https://github.com/inseefr/Lunatic-dsfr",b='"Marianne", arial, sans-serif',E="monospace",P=u({base:"dark",appBg:"#1E1E1E",appContentBg:"#161616",appPreviewBg:"#161616",barBg:"#1E1E1E",colorSecondary:"#8585F6",textColor:"#FFFFFF",brandImage:h,brandTitle:F,brandUrl:k,fontBase:b,fontCode:E}),y=u({base:"light",appBg:"#F6F6F6",appContentBg:"#FFFFFF",appPreviewBg:"#FFFFFF",barBg:"#FFFFFF",colorSecondary:"#000091",textColor:"#212121",brandImage:h,brandTitle:F,brandUrl:k,fontBase:b,fontCode:E});var d=w();class R{constructor(){this.isPending=!0;let r,t;this.pr=new Promise((e,s)=>{r=a=>{d.overwriteReadonlyProp(this,"isPending",!1),e(a)},t=a=>{d.overwriteReadonlyProp(this,"isPending",!1),s(a)}}),this.resolve=r,this.reject=t}}let l=!1;async function T(o){const{defaultColorScheme:r,verbose:t,nextParams:e,doCheckNonce:s,trustedTypesPolicyName:a}=o;if(p.assert(S),l)return;l=!0;const n=e===void 0?i=>i():e.registerEffectAction;x({colorSchemeExplicitlyProvidedAsParameter:r,doPersistDarkModePreferenceWithCookie:e===void 0?!1:e.doPersistDarkModePreferenceWithCookie,registerEffectAction:n,doCheckNonce:s,trustedTypesPolicyName:a}),window.dsfr={verbose:t,mode:"react"},await v(()=>import("./dsfr.module.min-BzfVCFNT.js"),__vite__mapDeps([]),import.meta.url),_.resolve(),n(()=>{window.dsfr.start()})}const _=new R;_.pr;function B(o){const{defaultColorScheme:r,verbose:t=!1,Link:e,useLang:s,nonce:a,trustedTypesPolicyName:n="react-dsfr"}=o;e!==void 0&&O({Link:e}),s!==void 0&&L({useLang:s}),p.assert(a!=="","nonce cannot be an empty string");const i=a!==void 0;i&&(window.ssrNonce=a),T({defaultColorScheme:r,verbose:t,doCheckNonce:i,trustedTypesPolicyName:n,nextParams:void 0})}function M(o,r){const t=c.useRef(!0);c.useEffect(()=>{if(t.current){t.current=!1;return}return o(...r)},r)}function I(o){const{children:r,context:t}=o,e=g(),{setIsDark:s}=m();return c.useEffect(()=>{s(e)},[e]),f(C,{context:t,theme:e?P:y,children:r})}const{UPDATE_STORY_ARGS:A}=__STORYBOOK_MODULE_CORE_EVENTS__,D="fr";B({defaultColorScheme:"system",useLang:()=>D});const Z={globalTypes:{locale:{description:"Internationalization locale",defaultValue:D,toolbar:{icon:"globe",items:[{value:"fr",right:"ðŸ‡«ðŸ‡·",title:"FranÃ§ais"},{value:"en",right:"ðŸ‡ºðŸ‡¸",title:"English"}]}}},parameters:{backgrounds:{disable:!0},docs:{autodocs:!0,container:I,controls:{exclude:["darkMode"]}},darkMode:{light:y,dark:P},controls:{exclude:["activeControls","shortcut","filterDescription"],expanded:!0}},argTypes:{darkMode:{control:{type:"boolean"},description:"Global color scheme enabled, light or dark, it change only the color scheme of the Canvas"},initialPage:{table:{disable:!0},control:{type:"text"}},autoSuggesterLoading:{table:{disable:!0},control:{type:"boolean"}}},decorators:[(o,r)=>{const t=g(),{setIsDark:e}=m(),s=window.__STORYBOOK_ADDONS_CHANNEL__;return c.useEffect(()=>{e(t),s.emit(A,{storyId:r.id,updatedArgs:{darkMode:t}})},[]),M(()=>{e(r.args.darkMode)},[r.args.darkMode]),f(o,{})}]};export{Z as default};
